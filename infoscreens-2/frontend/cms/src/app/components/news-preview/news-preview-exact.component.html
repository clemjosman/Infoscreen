<!-- cms/src/app/components/news-preview/news-preview-exact.component.html -->
<!-- âš¡ REPRODUCTION 100% EXACTE du slideshow newsInternal SANS banniÃ¨re -->

<!-- Header de prÃ©visualisation (overlay) -->
<div class="preview-header">
  <span>ðŸ“º {{ deviceData?.width }}Ã—{{ deviceData?.height }} - PRÃ‰VISUALISATION SLIDESHOW</span>
  <button (click)="closePreview()">âœ•</button>
</div>

<!-- Ã‰tats de chargement -->
<div *ngIf="isLoading" class="loading">Chargement...</div>
<div *ngIf="error" class="error">{{ error }}</div>

<!-- âš¡ REPRODUCTION 100% EXACTE du slideshow SANS banniÃ¨re -->
<div *ngIf="!isLoading && !error" 
     class="slideshow-viewport"
     [style.width]="deviceData?.width + 'px'"
     [style.height]="deviceData?.height + 'px'">

  <!-- âš¡ PAS DE BANNIÃˆRE ! Structure banner-layout-content directement -->
  <div class="banner-layout-content">
    
    <!-- âš¡ Cas sans news -->
    <ng-container *ngIf="!news">
      <div class="centered-text-content">
        <span>Aucune news disponible</span>
      </div>
    </ng-container>

    <!-- âš¡ EXACTEMENT comme newsInternal.html du slideshow -->
    <ng-container *ngIf="news">
      <div class="split-content-container" 
           [ngClass]="news.layout">
        
        <!-- âš¡ PREMIÃˆRE ZONE : image/pdf (firstContent) -->
        <div class="content" 
             [style.flex-basis]="getContentProportion('first')"
             [style.flex-grow]="getFlexGrow('first')"
             [style.order]="news.fileFirst ? 1 : 2">
          
          <!-- Image -->
          <div *ngIf="hasAttachment() && isImage()" class="image-content-wrapper">
            <div class="image-container">
              <div class="image-background" [style.backgroundImage]="'url('+ newsFileLink +')'"></div>
              <div class="image-center">
                <img [src]="newsFileLink" [alt]="news.title">
              </div>
            </div>
          </div>
          
          <!-- PDF -->
          <div *ngIf="hasAttachment() && isPdf()" class="pdf-content-wrapper">
            <iframe [src]="newsFileLink" class="pdf-frame" 
                    style="width: 100%; height: 100%; border: none;"></iframe>
          </div>
          
          <!-- Image par dÃ©faut -->
          <div *ngIf="!hasAttachment()" class="image-content-wrapper">
            <div class="image-container">
              <div class="image-background" [style.backgroundImage]="'url('+ DEFAULT_IMAGE_NEWS +')'"></div>
              <div class="image-center">
                <img [src]="DEFAULT_IMAGE_NEWS" [alt]="news.title">
              </div>
            </div>
          </div>
        </div>

        <!-- âš¡ DEUXIÃˆME ZONE : texte (secondContent) -->
        <div class="content" 
             [style.flex-basis]="getContentProportion('second')"
             [style.flex-grow]="getFlexGrow('second')"
             [style.order]="news.fileFirst ? 2 : 1">
          
          <div class="text-content-wrapper">
            <div class="content-container">
              <div class="text-inset">
                <h1 class="title" [innerHTML]="news.title"></h1>
                <div class="content" [innerHTML]="news.content"></div>
                
                <!-- âš¡ DATE DE PUBLICATION EN BAS du contenu texte, comme dans le slideshow -->
                <div class="news-infos" *ngIf="showFooter && news.publicationDate">
                  <hr />
                  {{ news.publicationDate }} - <i class="fa fa-lock"></i>Interne News
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>

  <!-- âš¡ FOOTER exact du slideshow avec logo Ã  gauche et date Ã  DROITE -->
  <footer class="footer-bar">
    <div class="logo-container">
      <img src="assets/images/ActemiumCH_Logo_Colour.png" alt="Actemium">
    </div>
    <div class="date-container">
      <h1 class="date">{{ getFullDateTime() }}</h1>
    </div>
  </footer>
</div> 